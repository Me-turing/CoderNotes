---
title: ES6ä¸Node
icon: file
order: 1
author: åä¸ƒ
date: 2023-06-15 å‘¨å››
category:
	- åˆçº§å¼€å‘å·¥ç¨‹å¸ˆ
tag:
	- P5
sticky: true
index: true
---


## ES6 å…¥é—¨

è‡ªå­¦å‚è€ƒï¼š[http://es6.ruanyifeng.com/](http://es6.ruanyifeng.com/ "http://es6.ruanyifeng.com/")

**ECMAScript 6.0ï¼ˆä»¥ä¸‹ç®€ç§° ES6ï¼‰æ˜¯ JavaScript è¯­è¨€çš„ä¸‹ä¸€ä»£æ ‡å‡†**ï¼Œå·²ç»åœ¨ 2015 å¹´ 6 æœˆæ­£å¼å‘å¸ƒäº†ã€‚å®ƒçš„ç›®æ ‡ï¼Œæ˜¯ä½¿å¾— JavaScript è¯­è¨€å¯ä»¥ç”¨æ¥ç¼–å†™å¤æ‚çš„å¤§å‹åº”ç”¨ç¨‹åºï¼Œæˆä¸ºä¼ä¸šçº§å¼€å‘è¯­è¨€ã€‚

### ES6ç®€ä»‹

####  ES6ä¸JavaScriptçš„å…³ç³»

è¦è®²æ¸…æ¥šè¿™ä¸ªé—®é¢˜ï¼Œéœ€è¦å›é¡¾å†å²ã€‚1996 å¹´ 11 æœˆï¼ŒJavaScript çš„åˆ›é€ è€… Netscape å…¬å¸ï¼Œå†³å®šå°† JavaScript æäº¤ç»™æ ‡å‡†åŒ–ç»„ç»‡ ECMAï¼Œå¸Œæœ›è¿™ç§è¯­è¨€èƒ½å¤Ÿæˆä¸ºå›½é™…æ ‡å‡†ã€‚æ¬¡å¹´ï¼ŒECMA å‘å¸ƒ 262 å·æ ‡å‡†æ–‡ä»¶ï¼ˆECMA-262ï¼‰çš„ç¬¬ä¸€ç‰ˆï¼Œè§„å®šäº†æµè§ˆå™¨è„šæœ¬è¯­è¨€çš„æ ‡å‡†ï¼Œå¹¶å°†è¿™ç§è¯­è¨€ç§°ä¸º ECMAScriptï¼Œè¿™ä¸ªç‰ˆæœ¬å°±æ˜¯ 1.0 ç‰ˆã€‚

å› æ­¤ï¼Œ**ECMAScript å’Œ JavaScript çš„å…³ç³»æ˜¯ï¼Œå‰è€…æ˜¯åè€…çš„è§„æ ¼ï¼Œåè€…æ˜¯å‰è€…çš„ä¸€ç§å®ç°**ï¼ˆå¦å¤–çš„ ECMAScript æ–¹è¨€è¿˜æœ‰ Jscript å’Œ ActionScriptï¼‰

#### ES6ä¸ES5çš„å…³ç³»

2011 å¹´ï¼ŒECMAScript 5.1 ç‰ˆå‘å¸ƒåï¼Œå°±å¼€å§‹åˆ¶å®š 6.0 ç‰ˆäº†ã€‚å› æ­¤ï¼ŒES6 è¿™ä¸ªè¯çš„åŸæ„ï¼Œå°±æ˜¯æŒ‡ JavaScript è¯­è¨€çš„ä¸‹ä¸€ä¸ªç‰ˆæœ¬ã€‚

ES6 çš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬ï¼Œåœ¨ 2015 å¹´ 6 æœˆå‘å¸ƒï¼Œæ­£å¼åç§°æ˜¯ã€ŠECMAScript 2015 æ ‡å‡†ã€‹ï¼ˆç®€ç§° ES2015ï¼‰ã€‚

2016 å¹´ 6 æœˆï¼Œå°å¹…ä¿®è®¢çš„ã€ŠECMAScript 2016 æ ‡å‡†ã€‹ï¼ˆç®€ç§° ES2016ï¼‰å¦‚æœŸå‘å¸ƒï¼Œè¿™ä¸ªç‰ˆæœ¬å¯ä»¥çœ‹ä½œæ˜¯ ES6.1 ç‰ˆï¼Œå› ä¸ºä¸¤è€…çš„å·®å¼‚éå¸¸å°ï¼ŒåŸºæœ¬ä¸Šæ˜¯åŒä¸€ä¸ªæ ‡å‡†ã€‚æ ¹æ®è®¡åˆ’ï¼Œ2017 å¹´ 6 æœˆå‘å¸ƒ ES2017 æ ‡å‡†ã€‚ &#x20;

å› æ­¤ï¼Œ**ES6 æ—¢æ˜¯ä¸€ä¸ªå†å²åè¯ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ³›æŒ‡ï¼Œå«ä¹‰æ˜¯ 5.1 ç‰ˆä»¥åçš„ JavaScript çš„ä¸‹ä¸€ä»£æ ‡å‡†ï¼Œæ¶µç›–äº† ES2015ã€ES2016ã€ES2017 ç­‰ç­‰**ï¼Œè€Œ**ES2015 åˆ™æ˜¯æ­£å¼åç§°**ï¼Œ**ç‰¹æŒ‡è¯¥å¹´å‘å¸ƒçš„æ­£å¼ç‰ˆæœ¬çš„è¯­è¨€æ ‡å‡†**ã€‚ æœ¬ä¹¦ä¸­æåˆ° ES6 çš„åœ°æ–¹ï¼Œä¸€èˆ¬æ˜¯æŒ‡ ES2015 æ ‡å‡†ï¼Œä½†æœ‰æ—¶ä¹Ÿæ˜¯æ³›æŒ‡â€œä¸‹ä¸€ä»£ JavaScript è¯­è¨€â€ã€‚

### åŸºæœ¬è¯­æ³•

ESæ ‡å‡†ä¸­ä¸åŒ…å« DOM å’Œ BOMçš„å®šä¹‰ï¼Œåªæ¶µç›–åŸºæœ¬æ•°æ®ç±»å‹ã€å…³é”®å­—ã€è¯­å¥ã€è¿ç®—ç¬¦ã€å†…å»ºå¯¹è±¡ã€å†…å»ºå‡½æ•°ç­‰é€šç”¨è¯­æ³•ã€‚

####  letå£°æ˜å˜é‡

```javascript
// var å£°æ˜çš„å˜é‡æ²¡æœ‰å±€éƒ¨ä½œç”¨åŸŸ
// let å£°æ˜çš„å˜é‡  æœ‰å±€éƒ¨ä½œç”¨åŸŸ
{
var a = 0
let b = 1
}
console.log(a)  // 0
console.log(b)  // ReferenceError: b is not defined
```

```javascript
// var å¯ä»¥å£°æ˜å¤šæ¬¡
// let åªèƒ½å£°æ˜ä¸€æ¬¡
var m = 1
var m = 2
let n = 3
let n = 4
console.log(m)  // 2
console.log(n)  // Identifier 'n' has already been declared
```

> ğŸ“Œ let ä¸ varçš„åŒºåˆ«
> 1.  varå£°æ˜çš„å˜é‡æ—¶å…¨å±€æˆå‘˜å˜é‡ï¼Œletå£°æ˜çš„å˜é‡æ—¶å±€éƒ¨å˜é‡
> 2.  varå¯ä»¥å¤šæ¬¡å£°æ˜ä¸€ä¸ªå˜é‡ï¼Œletåªèƒ½å£°æ˜ä¸€æ¬¡
> 3.  varåœ¨ç¼–è¯‘çš„è¿‡ç¨‹ä¸­ï¼Œä¼šå°†å£°æ˜è¯­å¥æåˆ°æœ€å‰é¢æ‰§è¡Œï¼Œletåˆ™ä¸ä¼šæå‰ï¼Œåªæ˜¯åœ¨ä½¿ç”¨ä½ç½®å£°æ˜

####  constå£°æ˜å¸¸é‡

```javascript
<script>
	const PI = 3.14;
	// å¸¸é‡åœ¨åˆå§‹åŒ–å®Œæˆèµ‹å€¼åä¸å¯ä»¥å†æ¬¡æ›´æ”¹
	//PI = 3;
	console.log(PI);
</script>
```

> ğŸ“Œconså¸¸é‡
> 1.  å£°æ˜åä¸å…è®¸æ”¹å˜
> 2.  ä¸€æ—¦å£°æ˜å¿…é¡»åˆå§‹åŒ–ï¼Œå¦åˆ™æŠ¥é”™

#### è§£æ„èµ‹å€¼

è§£æ„èµ‹å€¼æ˜¯**å¯¹èµ‹å€¼è¿ç®—ç¬¦çš„æ‰©å±•ã€‚**
ä»–æ˜¯ä¸€ç§é’ˆå¯¹æ•°ç»„æˆ–è€…å¯¹è±¡è¿›è¡Œæ¨¡å¼åŒ¹é…ï¼Œç„¶åå¯¹å…¶ä¸­çš„å˜é‡è¿›è¡Œèµ‹å€¼ã€‚
åœ¨ä»£ç ä¹¦**å†™ä¸Šç®€æ´ä¸”æ˜“è¯»ï¼Œè¯­ä¹‰æ›´åŠ æ¸…æ™°æ˜äº†**ï¼›ä¹Ÿæ–¹ä¾¿äº†å¤æ‚å¯¹è±¡ä¸­æ•°æ®å­—æ®µè·å–ã€‚

```javascript
//ä¼ ç»Ÿçš„èµ‹å€¼
var a=1,b=2,c=3
console.log(a,b,c)

//è§£æ„æ•°ç»„èµ‹å€¼
let [x,y,z] = [1,2,3]
console.log(x,y,z)
```

```javascript
var user = {name:'zhang3',age:33}

//ä¼ ç»Ÿ
var userName = user.name
var userAge = user.age
console.log(userName,userAge)

//è§£æ„ æ³¨æ„letä¸­çš„å±æ€§å‘½åè¦å’Œå¯¹è±¡ä¸­çš„ä¸€è‡´
let{name,age} =user
console.log(name,age)
```

> ğŸ“Œè§£æ„èµ‹å€¼
> 1.  èµ‹å€¼ä¸è¢«èµ‹å€¼çš„ç±»å‹ä¸€è‡´
> 2.  ä½¿ç”¨å¯¹è±¡èµ‹å€¼æ—¶ï¼Œèµ‹å€¼çš„å¯¹è±¡çš„å±æ€§å’Œè¢«èµ‹å€¼çš„å±æ€§ä¸€è‡´

#### æ¨¡æ¿å­—ç¬¦ä¸²

æ¨¡æ¿å­—ç¬¦ä¸²ç›¸å½“äºåŠ å¼ºç‰ˆçš„å­—ç¬¦ä¸²ï¼Œ**ç”¨åå¼•å· \`,é™¤äº†ä½œä¸ºæ™®é€šå­—ç¬¦ä¸²**ï¼Œè¿˜å¯ä»¥ç”¨æ¥å®šä¹‰å¤šè¡Œå­—ç¬¦ä¸²ï¼Œè¿˜å¯ä»¥åœ¨å­—ç¬¦ä¸²ä¸­åŠ å…¥å˜é‡å’Œè¡¨è¾¾å¼ã€‚

```javascript
let str = 'hello'
let name = 'java201021'

 //æ‹¼æ¥å­—ç¬¦ä¸² è¿™ç§å†™æ³•ä¸å¥½
console.log(str+' '+name+'!')
//æ¨¡æ¿å­—ç¬¦ä¸²çš„æ‹¼æ¥æ–¹æ³•
console.log(`${str} ${name} !`)
```

```javascript
//å®šä¹‰é•¿å­—ç¬¦ä¸²
let head = `<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Document</title>
</head>`
console.log(head)
```

```javascript
//è°ƒç”¨å‡½æ•°
function getName(){
    return 'aaaaaa'
}
console.log(`${name} ${getName()}`)
```

#### å£°æ˜å¯¹è±¡ç®€å†™

```javascript
let name = 'zahngsan3'
let age = 33

//åŸæœ¬çš„å¯¹è±¡å£°æ˜æ–¹å¼
let user = {name:name,age:age}
console.log(user)

//å¯¹è±¡ç®€å†™  ï¼ˆå¯¹è±¡ä¸­çš„å±æ€§å’Œå±æ€§åä¸€è‡´å°±å¯ä»¥ç®€å†™ï¼‰
let user2 = {name,age}
console.log(user2)
```

#### å®šä¹‰æ–¹æ³•ç®€å†™

```javascript
<script>
  //è¿™äº›æ˜¯å®šä¹‰å‡½æ•° ä¸æ˜¯å®šä¹‰æ–¹æ³•
  function f1(){
      return 'f1'
  }
  let f2 = function(){
      return 'f2'
  }

  //å®šä¹‰æ–¹æ³• æ²¡æœ‰ç®€å†™
  let user1 = {
      name:'zhang3',
      age:33,
      gethello1:function(){
          console.log(`hello ${this.name}`)
      }
  }
  user1.gethello1()

  //å®šä¹‰æ–¹æ³• ç®€å†™
  let user2 = {
      name:'zhang3',
      age:33,
      gethello2(){
          console.log(`hello ${this.name}`)
      }
  }
  user2.gethello2()
</script>
```

#### å¯¹è±¡æ‹“å±•è¿ç®—ç¬¦

æ‹“å±•è¿ç®—ç¬¦ï¼ˆ...ï¼‰ç”¨äºå–å‡ºå‚æ•°å¯¹è±¡æ‰€æœ‰å¯éå†å±æ€§ç„¶åæ‹·è´åˆ°å½“å‰å¯¹è±¡ã€‚

```javascript
//æ‹·è´å¯¹è±¡
let user = {
    name:'zhang3',
    age:33
}

//è¿™ä¸ªå’ŒJavaæ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯å°†user1æŒ‡å‘Userçš„ç©ºé—´åœ°å€
let user1 = user
console.log(user1)

//ä½¿ç”¨å¯¹è±¡æ‹“å±•è¿ç®—ç¬¦
//è¿™ä¸ªæ˜¯å°†åŸæœ‰çš„userç©ºé—´å¤åˆ¶ä¸€ä»½ï¼Œç„¶åå†è®©user2æŒ‡å‘è¿™ä¸ªæ–°ç©ºé—´
let user2 = {test:'aaaaa',...user}
console.log(user2)
```

```javascript
//2  åˆå¹¶å¯¹è±¡
let name = {name:'li4'}
let age = {age:44}
let user3 = {...name,...age}
console.log(user3)

//æ³¨æ„ï¼šåˆå¹¶å¯¹è±¡æ—¶å±æ€§åä¸èƒ½ä¸€æ ·ï¼Œå¦åˆ™ä¼šå‡ºç°åé¢çš„è¦†ç›–å‰é¢çš„å†…å®¹
let user4 = {...user1,...user3}
console.log(user4)
```

#### ç®­å¤´å‡½æ•°

ç®­å¤´å‡½æ•°æä¾›äº†ä¸€ç§æ›´åŠ ç®€æ´çš„å‡½æ•°ä¹¦å†™æ–¹å¼ã€‚åŸºæœ¬è¯­æ³•æ˜¯ï¼š

**å‚æ•° => å‡½æ•°ä½“**

```javascript
let f1 = function(a){
    return a
}
console.log(f1(100))

//å®Œæ•´å†™æ³•
let f2 = (a)=>{
    return a
}
console.log(f2(200))

//å¦‚æœåªæœ‰ä¸€ä¸ªå‚æ•° å¯ä»¥çœç•¥å°æ‹¬å·ï¼Œå¤šä¸ªå‚æ•°ä¸å¯ä»¥çœç•¥
let f3 = a=>{
    return a
}
console.log(f3(300))

//å¦‚æœå†…éƒ¨ç›´æ¥æ—¶è¿”å›å€¼ï¼Œä¸”åªæœ‰ä¸€è¡Œ å¯ä»¥çœç•¥å¤§æ‹¬å·å’Œreturnï¼Œå¤šè¡Œä¸å¯ä»¥çœç•¥
let f4 = a => a
console.log(f4(400))
```

ç®­å¤´å‡½æ•°å¤šç”¨äºåŒ¿åå‡½æ•°çš„å®šä¹‰

## Node å…¥é—¨

###  ç®€ä»‹

#### ä»€ä¹ˆæ˜¯Node.js

ç®€å•çš„è¯´ Node.js å°±æ˜¯è¿è¡Œåœ¨æœåŠ¡ç«¯çš„ JavaScriptã€‚

Node.jsæ˜¯ä¸€ä¸ªäº‹ä»¶é©±åŠ¨I/OæœåŠ¡ç«¯JavaScriptç¯å¢ƒï¼ŒåŸºäºGoogleçš„V8å¼•æ“ï¼ŒV8å¼•æ“æ‰§è¡ŒJavascriptçš„é€Ÿåº¦éå¸¸å¿«ï¼Œæ€§èƒ½éå¸¸å¥½ã€‚

####  Node.jsçš„ä½œç”¨

å¦‚æœä½ æ˜¯ä¸€ä¸ªå‰ç«¯ç¨‹åºå‘˜ï¼Œä½ ä¸æ‡‚å¾—åƒPHPã€Pythonæˆ–Rubyç­‰åŠ¨æ€ç¼–ç¨‹è¯­è¨€ï¼Œç„¶åä½ æƒ³åˆ›å»ºè‡ªå·±çš„æœåŠ¡ï¼Œé‚£ä¹ˆNode.jsæ˜¯ä¸€ä¸ªéå¸¸å¥½çš„é€‰æ‹©ã€‚

Node.js æ˜¯è¿è¡Œåœ¨æœåŠ¡ç«¯çš„ JavaScriptï¼Œå¦‚æœä½ ç†Ÿæ‚‰Javascriptï¼Œé‚£ä¹ˆä½ å°†ä¼šå¾ˆå®¹æ˜“çš„å­¦ä¼šNode.jsã€‚

å½“ç„¶ï¼Œå¦‚æœä½ æ˜¯åç«¯ç¨‹åºå‘˜ï¼Œæƒ³éƒ¨ç½²ä¸€äº›é«˜æ€§èƒ½çš„æœåŠ¡ï¼Œé‚£ä¹ˆå­¦ä¹ Node.jsä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸å¥½çš„é€‰æ‹©ã€‚

###  éƒ¨ç½²Node.js

-   ä¸‹è½½
    å®˜ç½‘ï¼š[https://nodejs.org/en/](https://nodejs.org/en/ "https://nodejs.org/en/")
    ä¸­æ–‡ç½‘ï¼š[http://nodejs.cn/](http://nodejs.cn/ "http://nodejs.cn/")
    LTSï¼šé•¿æœŸæ”¯æŒç‰ˆæœ¬
    Currentï¼šæœ€æ–°ç‰ˆ
-   å®‰è£… : ä¸è¦å®‰è£…åˆ°ä¸­æ–‡ç›®å½•å…¶ä»–é»˜è®¤å³å¯
-   æŸ¥çœ‹ç‰ˆæœ¬ : `node -v`

### Node.jså¿«é€Ÿå…¥é—¨

å¿«é€Ÿå‘å¼€ä¸€ä¸ªç®€å•çš„Node.jså°ç¨‹åº

#### æ§åˆ¶å°ç¨‹åº

-   åˆ›å»º 01-æ§åˆ¶å°ç¨‹åº.js : `console.log('Hello Node.js')`
-   æ‰“å¼€å‘½ä»¤è¡Œç»ˆç«¯ï¼š`Ctrl + Shift + y`
-   è¿›å…¥åˆ°ç¨‹åºæ‰€åœ¨çš„ç›®å½•ï¼Œè¾“å…¥ : `node 01-æ§åˆ¶å°ç¨‹åº.js`

æµè§ˆå™¨çš„å†…æ ¸åŒ…æ‹¬ä¸¤éƒ¨åˆ†æ ¸å¿ƒï¼š
-   DOMæ¸²æŸ“å¼•æ“ï¼›
-   jsè§£æå™¨ï¼ˆjså¼•æ“ï¼‰
-   jsè¿è¡Œåœ¨æµè§ˆå™¨ä¸­çš„å†…æ ¸ä¸­çš„jså¼•æ“å†…éƒ¨ 

Node.jsæ˜¯è„±ç¦»æµè§ˆå™¨ç¯å¢ƒè¿è¡Œçš„JavaScriptç¨‹åºï¼ŒåŸºäºV8 å¼•æ“ï¼ˆChrome çš„ JavaScriptçš„å¼•æ“ï¼‰

#### æœåŠ¡ç«¯ç¨‹åº

åˆ›å»º 02-server-app.js

```javascript
const http = require('http');
http.createServer(function (request, response) {
	// å‘é€ HTTP å¤´éƒ¨ 
	// HTTP çŠ¶æ€å€¼: 200 : OK
	// å†…å®¹ç±»å‹: text/plain
	response.writeHead(200, {'Content-Type': 'text/plain'});
	// å‘é€å“åº”æ•°æ® "Hello World"
	response.end('Hello Server');
}).listen(8888);
// ç»ˆç«¯æ‰“å°å¦‚ä¸‹ä¿¡æ¯
console.log('Server running at http://127.0.0.1:8888/');
```

è¿è¡ŒæœåŠ¡å™¨ç¨‹åº

```javascript
node 02-server-app.js
```

æœåŠ¡å™¨å¯åŠ¨æˆåŠŸåï¼Œåœ¨æµè§ˆå™¨ä¸­è¾“å…¥ï¼š[http://localhost:8888/](http://localhost:8888/ "http://localhost:8888/") æŸ¥çœ‹webserveræˆåŠŸè¿è¡Œï¼Œå¹¶è¾“å‡ºhtmlé¡µé¢

åœæ­¢æœåŠ¡ï¼š`ctrl + c`

### NPM

#### ä»€ä¹ˆæ˜¯NPM

NPMå…¨ç§°Node Package Managerï¼Œæ˜¯Node.jsåŒ…ç®¡ç†å·¥å…·ï¼Œæ˜¯å…¨çƒæœ€å¤§çš„æ¨¡å—ç”Ÿæ€ç³»ç»Ÿï¼Œé‡Œé¢æ‰€æœ‰çš„æ¨¡å—éƒ½æ˜¯å¼€æºå…è´¹çš„ï¼›ä¹Ÿæ˜¯Node.jsçš„åŒ…ç®¡ç†å·¥å…·ï¼Œç›¸å½“äºå‰ç«¯çš„Maven ã€‚

æˆ‘ä»¬é€šè¿‡npm å¯ä»¥å¾ˆæ–¹ä¾¿åœ°ä¸‹è½½jsåº“ï¼Œç®¡ç†å‰ç«¯å·¥ç¨‹ã€‚

Node.jsé»˜è®¤å®‰è£…çš„npmåŒ…å’Œå·¥å…·çš„ä½ç½®ï¼š`Node.jsç›®å½•\node_modules`

åœ¨è¿™ä¸ªç›®å½•ä¸‹ä½ å¯ä»¥çœ‹è§ npmç›®å½•ï¼Œnpmæœ¬èº«å°±æ˜¯è¢«NPMåŒ…ç®¡ç†å™¨ç®¡ç†çš„ä¸€ä¸ªå·¥å…·ï¼Œè¯´æ˜ Node.jså·²ç»é›†æˆäº†npmå·¥å…·

```bash
#åœ¨å‘½ä»¤æç¤ºç¬¦è¾“å…¥ npm -v å¯æŸ¥çœ‹å½“å‰npmç‰ˆæœ¬
npm -v
```

#### ä½¿ç”¨NPMç®¡ç†é¡¹ç›®

##### é¡¹ç›®åˆå§‹åŒ–

```bash
#å»ºç«‹ä¸€ä¸ªç©ºæ–‡ä»¶å¤¹ï¼Œåœ¨å‘½ä»¤æç¤ºç¬¦è¿›å…¥è¯¥æ–‡ä»¶å¤¹  æ‰§è¡Œå‘½ä»¤åˆå§‹åŒ–
npm init
#æŒ‰ç…§æç¤ºè¾“å…¥ç›¸å…³ä¿¡æ¯ï¼Œå¦‚æœæ˜¯ç”¨é»˜è®¤å€¼åˆ™ç›´æ¥å›è½¦å³å¯ã€‚
#name: é¡¹ç›®åç§°
#version: é¡¹ç›®ç‰ˆæœ¬å·
#description: é¡¹ç›®æè¿°
#keywords: {Array}å…³é”®è¯ï¼Œä¾¿äºç”¨æˆ·æœç´¢åˆ°æˆ‘ä»¬çš„é¡¹ç›®
#æœ€åä¼šç”Ÿæˆpackage.jsonæ–‡ä»¶ï¼Œè¿™ä¸ªæ˜¯åŒ…çš„é…ç½®æ–‡ä»¶ï¼Œç›¸å½“äºmavençš„pom.xml
#æˆ‘ä»¬ä¹‹åä¹Ÿå¯ä»¥æ ¹æ®éœ€è¦è¿›è¡Œä¿®æ”¹ã€‚
```

```bash
#å¦‚æœæƒ³ç›´æ¥ç”Ÿæˆ package.json æ–‡ä»¶ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨å‘½ä»¤
npm init -y
```

##### ä¿®æ”¹npmé•œåƒ

NPMå®˜æ–¹çš„ç®¡ç†çš„åŒ…éƒ½æ˜¯ä» [http://npmjs.com](http://npmjs.com "http://npmjs.com")ä¸‹è½½çš„ï¼Œä½†æ˜¯è¿™ä¸ªç½‘ç«™åœ¨å›½å†…é€Ÿåº¦å¾ˆæ…¢ã€‚

è¿™é‡Œæ¨èä½¿ç”¨æ·˜å® NPM é•œåƒ [http://npm.taobao.org/](http://npm.taobao.org/ "http://npm.taobao.org/")Â ï¼Œæ·˜å® NPM é•œåƒæ˜¯ä¸€ä¸ªå®Œæ•´ [npmjs.com](http://npmjs.com "npmjs.com") é•œåƒï¼ŒåŒæ­¥é¢‘ç‡ç›®å‰ä¸º 10åˆ†é’Ÿä¸€æ¬¡ï¼Œä»¥ä¿è¯å°½é‡ä¸å®˜æ–¹æœåŠ¡åŒæ­¥ã€‚

```bash
#ç»è¿‡ä¸‹é¢çš„é…ç½®ï¼Œä»¥åæ‰€æœ‰çš„ npm install éƒ½ä¼šç»è¿‡æ·˜å®çš„é•œåƒåœ°å€ä¸‹è½½
npm config set registry https://registry.npm.taobao.org 

#æŸ¥çœ‹npmé…ç½®ä¿¡æ¯
npm config list
```

##### npm installå‘½ä»¤çš„ä½¿ç”¨

```bash
#ä½¿ç”¨ npm install å®‰è£…ä¾èµ–åŒ…çš„æœ€æ–°ç‰ˆï¼Œ
#æ¨¡å—å®‰è£…çš„ä½ç½®ï¼šé¡¹ç›®ç›®å½•\node_modules
#å®‰è£…ä¼šè‡ªåŠ¨åœ¨é¡¹ç›®ç›®å½•ä¸‹æ·»åŠ  package-lock.jsonæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶å¸®åŠ©é”å®šå®‰è£…åŒ…çš„ç‰ˆæœ¬
#åŒæ—¶package.json æ–‡ä»¶ä¸­ï¼Œä¾èµ–åŒ…ä¼šè¢«æ·»åŠ åˆ°dependenciesèŠ‚ç‚¹ä¸‹ï¼Œç±»ä¼¼mavenä¸­çš„ <dependencies>
npm install jquery


#npmç®¡ç†çš„é¡¹ç›®åœ¨å¤‡ä»½å’Œä¼ è¾“çš„æ—¶å€™ä¸€èˆ¬ä¸æºå¸¦node_modulesæ–‡ä»¶å¤¹
npm install #æ ¹æ®package.jsonä¸­çš„é…ç½®ä¸‹è½½ä¾èµ–ï¼Œåˆå§‹åŒ–é¡¹ç›®


#å¦‚æœå®‰è£…æ—¶æƒ³æŒ‡å®šç‰¹å®šçš„ç‰ˆæœ¬
npm install jquery@2.1.x


#devDependenciesèŠ‚ç‚¹ï¼šå¼€å‘æ—¶çš„ä¾èµ–åŒ…ï¼Œé¡¹ç›®æ‰“åŒ…åˆ°ç”Ÿäº§ç¯å¢ƒçš„æ—¶å€™ä¸åŒ…å«çš„ä¾èµ–
#ä½¿ç”¨ -Då‚æ•°å°†ä¾èµ–æ·»åŠ åˆ°devDependenciesèŠ‚ç‚¹
npm install --save-dev eslint
#æˆ–
npm install -D eslint


#å…¨å±€å®‰è£…
#Node.jså…¨å±€å®‰è£…çš„npmåŒ…å’Œå·¥å…·çš„ä½ç½®ï¼šç”¨æˆ·ç›®å½•\AppData\Roaming\npm\node_modules
#ä¸€äº›å‘½ä»¤è¡Œå·¥å…·å¸¸ä½¿ç”¨å…¨å±€å®‰è£…çš„æ–¹å¼
npm install -g webpack
```

##### å…¶ä»–å‘½ä»¤

```bash
#æ›´æ–°åŒ…ï¼ˆæ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ï¼‰
npm update åŒ…å
#å…¨å±€æ›´æ–°
npm update -g åŒ…å

#å¸è½½åŒ…
npm uninstall åŒ…å
#å…¨å±€å¸è½½
npm uninstall -g åŒ…å
```

### Babel

Babelæ˜¯ä¸€ä¸ªå¹¿æ³›ä½¿ç”¨çš„è½¬ç å™¨ï¼Œå¯ä»¥å°†ES6ä»£ç è½¬ä¸ºES5ä»£ç ï¼Œä»è€Œåœ¨ç°æœ‰ç¯å¢ƒæ‰§è¡Œæ‰§è¡Œã€‚

è¿™æ„å‘³ç€ï¼Œä½ å¯ä»¥ç°åœ¨å°±ç”¨ ES6 ç¼–å†™ç¨‹åºï¼Œè€Œä¸ç”¨æ‹…å¿ƒç°æœ‰ç¯å¢ƒæ˜¯å¦æ”¯æŒã€‚

#### å®‰è£…

```bash
npm install --global babel-cli

#æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ
babel --version
```

#### ä½¿ç”¨

åˆå§‹åŒ–é¡¹ç›®

```bash
npm init -y
```

åˆ›å»ºé…ç½®æ–‡ä»¶`.babelrc`

```bash
{
    "presets": [],
    "plugins": []
}
```

å®‰è£…è½¬ç å™¨

```bash
npm install --save-dev babel-preset-es2015
```

è½¬ç 

```bash
# è½¬ç ç»“æœå†™å…¥ä¸€ä¸ªæ–‡ä»¶
mkdir dist1

# --out-file æˆ– -o å‚æ•°æŒ‡å®šè¾“å‡ºæ–‡ä»¶
babel src/example.js --out-file dist1/compiled.js
# æˆ–è€…
babel src/example.js -o dist1/compiled.js

# æ•´ä¸ªç›®å½•è½¬ç 
mkdir dist2
# --out-dir æˆ– -d å‚æ•°æŒ‡å®šè¾“å‡ºç›®å½•
babel src --out-dir dist2
# æˆ–è€…
babel src -d dist2
```

### æ¨¡å—åŒ–

#### ç®€ä»‹

éšç€ç½‘ç«™é€æ¸å˜æˆ"äº’è”ç½‘åº”ç”¨ç¨‹åº"ï¼ŒåµŒå…¥ç½‘é¡µçš„Javascriptä»£ç è¶Šæ¥è¶Šåºå¤§ï¼Œè¶Šæ¥è¶Šå¤æ‚ã€‚

![](./image/image_9mvOptX5Xj.png)

Javascriptæ¨¡å—åŒ–ç¼–ç¨‹ï¼Œå·²ç»æˆä¸ºä¸€ä¸ªè¿«åˆ‡çš„éœ€æ±‚ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œå¼€å‘è€…åªéœ€è¦å®ç°æ ¸å¿ƒçš„ä¸šåŠ¡é€»è¾‘ï¼Œå…¶ä»–éƒ½å¯ä»¥åŠ è½½åˆ«äººå·²ç»å†™å¥½çš„æ¨¡å—ã€‚

ä½†æ˜¯ï¼ŒJavascriptä¸æ˜¯ä¸€ç§æ¨¡å—åŒ–ç¼–ç¨‹è¯­è¨€ï¼Œå®ƒä¸æ”¯æŒ"ç±»"ï¼ˆclassï¼‰ï¼ŒåŒ…ï¼ˆpackageï¼‰ç­‰æ¦‚å¿µï¼Œæ›´é‘è®º"æ¨¡å—"ï¼ˆmoduleï¼‰äº†ã€‚

#### CommonJSæ¨¡å—è§„èŒƒ

æ¯ä¸ªæ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œæœ‰è‡ªå·±çš„ä½œç”¨åŸŸã€‚åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œé¢å®šä¹‰çš„å˜é‡ã€å‡½æ•°ã€ç±»ï¼Œéƒ½æ˜¯ç§æœ‰çš„ï¼Œå¯¹å…¶ä»–æ–‡ä»¶ä¸å¯è§ã€‚

**CommonJSä½¿ç”¨ exports å’Œrequire æ¥å¯¼å‡ºã€å¯¼å…¥æ¨¡å—ã€‚**

##### å¯¼å‡ºæ¨¡å—

å®šä¹‰æ–‡ä»¶ 1.js

```javascript
// å®šä¹‰æˆå‘˜ï¼š
const sum = function(a,b){
    return parseInt(a) + parseInt(b)
}
const subtract = function(a,b){
    return parseInt(a) - parseInt(b)
}
const multiply = function(a,b){
    return parseInt(a) * parseInt(b)
}
const divide = function(a,b){
    return parseInt(a) / parseInt(b)
}

// å¯¼å‡ºæˆå‘˜
module.exports = {
    sum,
    subtract,
    multiply,
    divide
}
```

##### å¯¼å…¥æ¨¡å—

å®šä¹‰æ–‡ä»¶2.js

```javascript
//å¼•å…¥æ¨¡å—  æ³¨æ„å½“å‰è·¯å¾„å¿…é¡»å†™./
const m = require('./1.js')
console.log(m);

const result1 = m.sum(1,2)
const result2 = m.subtract(1,2)
console.log(result1,result2);
```

##### è¿è¡Œç¨‹åº

```javascript
node common-jsæ¨¡å—åŒ–/å¼•å…¥æ¨¡å—.js
```

#### ES6æ¨¡å—è§„èŒƒ

**ES6ä½¿ç”¨ export å’Œ import æ¥å¯¼å‡ºã€å¯¼å…¥æ¨¡å—ã€‚**

>  æ³¨æ„ï¼šè¿™æ—¶çš„ç¨‹åºæ— æ³•è¿è¡Œçš„ï¼Œå› ä¸ºES6çš„æ¨¡å—åŒ–æ— æ³•åœ¨Node.jsä¸­æ‰§è¡Œï¼Œéœ€è¦ç”¨Babelç¼–è¾‘æˆES5åå†æ‰§è¡Œã€‚

##### å¯¼å‡ºæ¨¡å—

å®šä¹‰æ–‡ä»¶ 1.js

```javascript
export function getList() {
    console.log('è·å–æ•°æ®åˆ—è¡¨')
}

export function save() {
    console.log('ä¿å­˜æ•°æ®')
}
```

##### å¯¼å…¥æ¨¡å—

å®šä¹‰æ–‡ä»¶2.js

```javascript
//åªå–éœ€è¦çš„æ–¹æ³•å³å¯ï¼Œå¤šä¸ªæ–¹æ³•ç”¨é€—å·åˆ†éš”
import { getList, save } from "./1.js"
getList()
save()
```

#### ES6æ¨¡å—è§„èŒƒå¦ä¸€ç§å†™æ³•

**ES6ä½¿ç”¨ export å’Œ import æ¥å¯¼å‡ºã€å¯¼å…¥æ¨¡å—ã€‚**

> æ³¨æ„ï¼šè¿™æ—¶çš„ç¨‹åºæ— æ³•è¿è¡Œçš„ï¼Œå› ä¸ºES6çš„æ¨¡å—åŒ–æ— æ³•åœ¨Node.jsä¸­æ‰§è¡Œï¼Œéœ€è¦ç”¨Babelç¼–è¾‘æˆES5åå†æ‰§è¡Œ

##### å¯¼å‡ºæ¨¡å—

å®šä¹‰æ–‡ä»¶ 1.js

```javascript
export default {
    getList() {
        console.log('è·å–æ•°æ®åˆ—è¡¨2')
    },
    save() {
        console.log('ä¿å­˜æ•°æ®2')
    }
}
```

##### å¯¼å…¥æ¨¡å—

å®šä¹‰æ–‡ä»¶2.js

```javascript
//åªå–éœ€è¦çš„æ–¹æ³•å³å¯ï¼Œå¤šä¸ªæ–¹æ³•ç”¨é€—å·åˆ†éš”
import user from "./1.js"
user.getList()
user.save()
```

### webpack

Webpack æ˜¯ä¸€ä¸ªå‰ç«¯èµ„æºåŠ è½½/æ‰“åŒ…å·¥å…·ã€‚å®ƒå°†æ ¹æ®æ¨¡å—çš„ä¾èµ–å…³ç³»è¿›è¡Œé™æ€åˆ†æï¼Œç„¶åå°†è¿™äº›æ¨¡å—æŒ‰ç…§æŒ‡å®šçš„è§„åˆ™ç”Ÿæˆå¯¹åº”çš„é™æ€èµ„æºã€‚

ä»å›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼ŒWebpack å¯ä»¥å°†å¤šç§é™æ€èµ„æº jsã€cssã€less è½¬æ¢æˆä¸€ä¸ªé™æ€æ–‡ä»¶ï¼Œå‡å°‘äº†é¡µé¢çš„è¯·æ±‚ã€‚

![](./image/image_ZePfDPi5mi.png)

#### å®‰è£…

å…¨å±€å®‰è£…  ï¼š ` npm install -g webpack webpack-cli`
å®‰è£…åæŸ¥çœ‹ç‰ˆæœ¬å·  ï¼š  `webpack -v`

#### Demoæ¼”ç¤º

##### æ‰“åŒ…JS

-   åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹webpackï¼Œå¹¶è¿›å…¥æ–‡ä»¶å¤¹
-   åˆå§‹åŒ–é¡¹ç›®  ï¼š `npm init -y`
-   åœ¨æ–‡ä»¶å¤¹ä¸­åˆ›å»ºsrcç›®å½•ï¼Œå¹¶åœ¨srcä¸­åˆ›å»ºä»¥ä¸‹æ–‡ä»¶
	åˆ›å»ºcommon.js
	```javascript
	exports.info = function (str) {
		document.write(str);
	}
	```
	åˆ›å»ºutils.js
	```javascript
	exports.add = function (a, b) {
		return a + b;
	}
	```
	
	åˆ›å»ºmain.js
	```javascript
	const common = require('./common');
	const utils = require('./utils');
	common.info('Hello world!' + utils.add(100, 200));
	```
	
	åœ¨webpackç›®å½•ä¸‹åˆ›å»ºé…ç½®æ–‡ä»¶ `webpack.config.js`
	
	ä»¥ä¸‹é…ç½®çš„æ„æ€æ˜¯ï¼šè¯»å–å½“å‰é¡¹ç›®ç›®å½•ä¸‹srcæ–‡ä»¶å¤¹ä¸­çš„main.jsï¼ˆå…¥å£æ–‡ä»¶ï¼‰å†…å®¹ï¼Œåˆ†æèµ„æºä¾èµ–ï¼ŒæŠŠç›¸å…³çš„jsæ–‡ä»¶æ‰“åŒ…ï¼Œæ‰“åŒ…åçš„æ–‡ä»¶æ”¾å…¥å½“å‰ç›®å½•çš„distæ–‡ä»¶å¤¹ä¸‹ï¼Œæ‰“åŒ…åçš„jsæ–‡ä»¶åä¸ºbundle.js
	```javascript
	const path = require("path"); //Node.jså†…ç½®æ¨¡å—
	module.exports = {
		entry: './src/main.js', //é…ç½®å…¥å£æ–‡ä»¶
		output: {
			path: path.resolve(__dirname, './dist'), //è¾“å‡ºè·¯å¾„ï¼Œ__dirnameï¼šå½“å‰æ–‡ä»¶æ‰€åœ¨è·¯å¾„
			filename: 'bundle.js' //è¾“å‡ºæ–‡ä»¶
		}
	}
	```
-   æ‰§è¡Œç¼–è¯‘å‘½ä»¤
    ä»¥ä¸‹é…ç½®çš„æ„æ€æ˜¯ï¼šè¯»å–å½“å‰é¡¹ç›®ç›®å½•ä¸‹srcæ–‡ä»¶å¤¹ä¸­çš„main.jsï¼ˆå…¥å£æ–‡ä»¶ï¼‰å†…å®¹ï¼Œåˆ†æèµ„æºä¾èµ–ï¼ŒæŠŠç›¸å…³çš„jsæ–‡ä»¶æ‰“åŒ…ï¼Œæ‰“åŒ…åçš„æ–‡ä»¶æ”¾å…¥å½“å‰ç›®å½•çš„distæ–‡ä»¶å¤¹ä¸‹ï¼Œæ‰“åŒ…åçš„jsæ–‡ä»¶åä¸ºbundle.js
	```bash
	webpack #æœ‰é»„è‰²è­¦å‘Š
	webpack --mode=development #æ²¡æœ‰è­¦å‘Š
	#æ‰§è¡ŒåæŸ¥çœ‹bundle.js é‡Œé¢åŒ…å«äº†ä¸Šé¢ä¸¤ä¸ªjsæ–‡ä»¶çš„å†…å®¹å¹¶æƒŠé†’äº†ä»£ç å‹ç¼©
	```
    ä¹Ÿå¯ä»¥é…ç½®é¡¹ç›®çš„npmè¿è¡Œå‘½ä»¤ï¼Œä¿®æ”¹package.jsonæ–‡ä»¶
    ```javascript
    "scripts": {
        //...,
        "dev": "webpack --mode=development"
     }
    ```
    ä½¿ç”¨npmæ‰“åŒ…ï¼š`npm run dev`

##### æ‰“åŒ…CSS

-   å®‰è£…`style-loader`å’ŒÂ `css-loader`
    Webpack æœ¬èº«åªèƒ½å¤„ç† JavaScript æ¨¡å—ï¼Œå¦‚æœè¦å¤„ç†å…¶ä»–ç±»å‹çš„æ–‡ä»¶ï¼Œå°±éœ€è¦ä½¿ç”¨ loader è¿›è¡Œè½¬æ¢ã€‚
    Loader å¯ä»¥ç†è§£ä¸ºæ˜¯æ¨¡å—å’Œèµ„æºçš„è½¬æ¢å™¨ã€‚
    é¦–å…ˆæˆ‘ä»¬éœ€è¦å®‰è£…ç›¸å…³Loaderæ’ä»¶ï¼Œcss-loader æ˜¯å°† css è£…è½½åˆ° javascriptï¼›style-loader æ˜¯è®© javascript è®¤è¯†css
    ```bash
    npm install --save-dev style-loader css-loader 
    ```
-   ä¿®æ”¹`webpack.config.js`
    æ³¨æ„ï¼Œè¿™ä¸ªdemoæ˜¯åœ¨ä¸Šé¢çš„åŸºç¡€ä¸Šç»§ç»­å®Œæˆçš„ï¼Œéœ€è¦åœ¨ `output:{},`ä¸‹å¢åŠ  `module:` æ ‡ç­¾å¹¶é…ç½®å…¶ä¸­çš„å±æ€§
    ```javascript
    const path = require("path"); //Node.jså†…ç½®æ¨¡å—
    module.exports = {
        //...,
        output:{},
        module: {
            rules: [  
                {  
                    test: /\.css$/,    //æ‰“åŒ…è§„åˆ™åº”ç”¨åˆ°ä»¥cssç»“å°¾çš„æ–‡ä»¶ä¸Š
                    use: ['style-loader', 'css-loader']
                }  
            ]  
        }
    }
    ```
-   åœ¨srcä¸­é…ç½®style.cssæ–‡ä»¶
    æ³¨æ„ï¼Œè¿™ä¸ªdemoæ˜¯åœ¨ä¸Šé¢çš„åŸºç¡€ä¸Šç»§ç»­å®Œæˆçš„ï¼Œéœ€è¦åœ¨ `output:{},`ä¸‹å¢åŠ  `module:` æ ‡ç­¾å¹¶é…ç½®å…¶ä¸­çš„å±æ€§
    ```javascript
    body{
        background:pink;
    }
    ```
-   ä¿®æ”¹main.js
    åœ¨ç¬¬ä¸€è¡Œå¼•å…¥style.css
    ```javascript
    require('./style.css');
    ```
-   é‡æ–°æ‰§è¡Œæ‰“åŒ…ç¨‹åº